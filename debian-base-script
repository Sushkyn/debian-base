#!/bin/bash

#it is just uhh... different strokes. omarchy-steam-install is the goat.

#packages
apt install -y iwd net-tools nnn curl transmission-qt mpv simplescreenrecorder git libnotify-bin vim fastfetch suckless-tools i3 tor torsocks doas tmux macchanger flatpak tlp tlp-rdw xorg

#privilege
echo -e 'permit nopass localhost as root
permit nopass localhost as root cmd /usr/bin/macchanger
permit nopass localhost as root cmd /sbin/ip' >/etc/doas.conf
chown root:root /etc/doas.conf
chmod 0400 /etc/doas.conf
echo "alias sudo='doas'" >> ~/.bashrc

#desktop
echo "exec i3" > ~/.xinitrc

#config
mv 99-swapiness.conf /etc/sysctl.d/
mv .irssi /home/localhost/
mv .vimrc /home/localhost
mv .Xresources /home/localhost
#do xrdb -merge ~/.Xresources  in xterm

systemctl enable tlp
mv config/* /home/localhost/.config/
wget -qO /etc/hosts https://github.com/StevenBlack/hosts/raw/refs/heads/master/alternates/fakenews-gambling-porn-social/hosts && sed -i -e 's/#.*0.0.0.0/0.0.0.0/g' /etc/hosts
chattr -i /etc/resolv.conf
echo -e "nameserver 9.9.9.9\nnameserver 149.112.112.112" | tee /etc/resolv.conf > /dev/null
chattr +i /etc/resolv.conf
